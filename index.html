<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Run &amp; Bench Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            keyframes: {
              pop: {
                '0%': { transform: 'scale(0.9)', opacity: '0' },
                '70%': { transform: 'scale(1.05)' },
                '100%': { transform: 'scale(1)', opacity: '1' }
              }
            },
            animation: {
              pop: 'pop 0.3s ease-out'
            }
          }
        }
      }
    </script>
  </head>
  <body class="bg-gray-100 text-gray-800 max-w-3xl mx-auto p-8 mt-10 font-sans">
    <h1 class="text-4xl text-blue-700 text-center mb-10 font-bold">Run &amp; Bench Calculator</h1>

    <div class="bg-white p-6 rounded-xl shadow-md mb-5">
      <label class="block text-lg font-semibold text-gray-700 mb-3">10K Run Time:</label>
      <input 
        type="number" 
        id="minutes" 
        value="40" 
        min="26" 
        max="100"
        step="1" 
        placeholder="Minutes"
        class="w-32 p-3 border-2 border-gray-200 rounded-lg mr-3 focus:border-blue-500 focus:outline-none transition-colors text-lg"
        onkeydown="return event.keyCode !== 190" 
        oninput="validateMinutes(this)"
        onblur="if(this.value !== '' && parseInt(this.value) < 26) this.value = 26"
      />
      <input
        type="number"
        id="seconds"
        value="0"
        min="0"
        max="59"
        step="1"
        placeholder="Seconds"
        class="w-32 p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors text-lg"
        onkeydown="return event.keyCode !== 190"
        oninput="validateSeconds(this)"
      />
    </div>

    <div class="bg-white p-6 rounded-xl shadow-md mb-5">
      <label class="block text-lg font-semibold text-gray-700 mb-3">Bench Press Max (kg):</label>
      <input 
        type="number" 
        id="benchPress" 
        value="100" 
        min="0" 
        step="1" 
        class="w-32 p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors text-lg"
        onkeydown="return event.keyCode !== 190" 
        oninput="this.value=Math.floor(this.value)" 
      />
    </div>

    <button 
      onclick="calculate()" 
      class="block mx-auto px-8 py-4 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/30 hover:-translate-y-0.5 hover:shadow-xl hover:shadow-blue-500/40 active:translate-y-0 transition-all"
    >
      Calculate
    </button>

    <div id="result" class="mt-8"></div>

    <script>
      function validateMinutes(input) {
        // Remove any decimal points and non-numeric characters
        input.value = input.value.replace(/[^\d]/g, '');
        
        // Only enforce maximum limit during typing
        let value = parseInt(input.value) || 0;
        if (value > 100) input.value = 100;
      }

      function validateSeconds(input) {
        // Remove any decimal points and non-numeric characters
        input.value = input.value.replace(/[^\d]/g, '');
        
        // Ensure the value is within bounds
        let value = parseInt(input.value) || 0;
        if (value > 59) input.value = 59;
        if (value < 0) input.value = 0;
      }

      function calculate() {
        // Get input values and ensure they're integers
        const minutes = Math.floor(parseInt(document.getElementById("minutes").value)) || 0;
        const seconds = Math.floor(parseInt(document.getElementById("seconds").value)) || 0;
        const benchPress = Math.floor(parseInt(document.getElementById("benchPress").value)) || 0;

        // Validate inputs
        if (minutes < 26 || minutes > 100 || seconds < 0 || seconds > 60 || benchPress === 0) {
          alert("Please enter valid values for both run time and bench press");
          return;
        }

        // Convert time to minutes
        const totalTimeInMinutes = minutes + seconds / 60;


        const result =
          benchPress + (6210000 / Math.pow(totalTimeInMinutes, 3));

        // Display result
        const resultDiv = document.getElementById("result");
        resultDiv.innerHTML = `
          <div class="bg-white p-6 rounded-xl shadow-md">
            <h3 class="text-2xl text-blue-700 font-bold mb-4">Results:</h3>
            <p class="text-lg mb-2">10K Time: ${minutes}:${seconds.toString().padStart(2, "0")} (${totalTimeInMinutes.toFixed(2)} minutes)</p>
            <p class="text-lg mb-4">Bench Press: ${benchPress} kg</p>
            <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-5 rounded-xl text-center text-2xl shadow-lg shadow-green-500/30 animate-pop">
              <strong>Score:</strong><br>
              ${result.toFixed(2)}
            </div>
          </div>
        `;
      }
    </script>
  </body>
</html>
